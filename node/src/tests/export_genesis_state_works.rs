use assert_cmd::cargo::cargo_bin;

mod common;

#[test]
#[cfg(unix)]
fn export_genesis_state() {
	use std::process::Command;
	let output = Command::new(cargo_bin("moonbeam"))
		.arg("export-genesis-state")
		.arg("--chain")
		.arg("local")
		.output()
		.unwrap();

	let expected = "307830303030303030303030303030303030303030303030303030303030303030303030\
	3030303030303030303030303030303030303030303030303030303030303030303865323533313462316534313533\
	3539353039623063666566363664343063316437663030666237393637623461386330663231336135626634633130\
	3033303331373061326537353937623762376533643834633035333931643133396136326231353765373837383664\
	386330383266323964636634633131313331343030";

	assert_eq!(expected, hex::encode(output.stdout.as_slice()))
}